<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- anchors for headings -->
  <script src="../anchor.min.js"></script>

  
    <!-- Google Analytics -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-142322478-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-142322478-2');
</script>
    
    
    <!-- Katex Math -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
  
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="renderMathInElement(document.body, {delimiters: [{ left: '$$', right: '$$', display: true },{ left: '\\[', right: '\\]', display: true },{ left: '$', right: '$', display: true },{ left: '\\(', right: '\\)', display: false },{ left: '$$$', right: '$$$', display: true }]});"></script>
<!-- END MATH --> 

    <!-- META INFO -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Danny Denenberg's home page on the internet with a programming blog." />

          <!-- END META INFO -->
  <title>
    
    A js developer‚Äôs view of rust &middot; Danny Denenberg
    
  </title>

  <!-- Font Awesome Icon Support -->
 <script src="https://kit.fontawesome.com/b0b051f3df.js" crossorigin="anonymous"></script>
  </head>


  <link rel="stylesheet" href="/styles.css" />
  <link
    rel="apple-touch-icon-precomposed"
    sizes="144x144"
    href="/public/apple-touch-icon-precomposed.png"
  />
  <link rel="shortcut icon" href="/public/favicon.ico" />
  <link
    rel="alternate"
    type="application/atom+xml"
    title="Danny Denenberg"
    href="/atom.xml"
  />


</head>


  <body>
    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Danny Denenberg</a>
          <small></small>
        </h3>

         &nbsp;&nbsp;&nbsp;<span
          class="nav-bar-item"
          ><a href="/about/">About</a></span
        >
         &nbsp;&nbsp;&nbsp;<span
          class="nav-bar-item"
          ><a href="/projects">Projects</a></span
        >
        
      </header>

      <main>
        <article class="post">
  <h1 class="post-title">A js developer‚Äôs view of rust</h1>
  <time datetime="2019-09-13T00:00:00-05:00" class="post-date"
    >September 13, 2019</time
  >

  <p>A while ago, I was trying to find something interesting to read about online when I bumped into Rust. Rust is ‚Ä¶</p>

<blockquote>
  <p>‚Äúa language empowering everyone to build reliable and efficient software.‚Äù</p>
</blockquote>

<p>In short, it is a systems programming language. A freaky fast one, at that. It even outperformed C++ in many of the benchmarks tests run by The Computer Language Benchmarks Game (mostly having to do with complex algorithmic tasks like binary trees, etc).</p>

<p>Before I started to delve more into the language itself, though, I searched about to see what people were thinking of it. Rust was created in 2011 and is backed by Mozilla (the not-for-profit). It has a sort of niche group following it consisting mostly of previous C/C++ developers who wanted a break from the null pointer exceptions, undefined behaviors, language complexity, crazy macros ‚Äî shall I go on? Although Rust is still in its early stages of maturity, it has a website devoted to following its development of game programming, which is pretty sweet. There are even some games that are gathering a lot of buzz and have even been put into the App Store and the Google Play Store such as A Snake‚Äôs Tale. Rust even has an AMAZING package manager called crates.io which is comparable to npm and has had almost 1.5 billion downloads to date.</p>

<p>After seeing all of this, I decided that I needed to feed my curiosity and learn Rust‚Äôs syntax. I started by reading through The Book ‚Äî a (mostly) complete walkthrough of Rust‚Äôs syntax, idioms, and program structure.</p>

<p>Because I know many c-like languages, the general form of the syntax was simple and easy to grasp. If you are one of those people who use const whenever possible and will punish those who don‚Äôt, you‚Äôll love Rust. Its default form of assigning variables makes them immutable.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// Below is an immutable variable</span>
<span class="k">let</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span><span class="c">// Below is a mutable variable</span>
<span class="k">let</span> <span class="k">mut</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span><span class="c">// General form for variables:</span>
<span class="k">let</span> <span class="n">var_name</span><span class="p">:</span> <span class="k">type</span> <span class="o">=</span> <span class="n">value</span><span class="p">;</span>
</code></pre></div></div>

<p>Data types in Rust are straight forward. Integer types consist of 8 through 128 bit unsigned and signed numbers.</p>

<p><img src="https://miro.medium.com/max/564/1*AesR6b5JntLgZzW7K2_nlA.png" alt="" /></p>

<p>There are also immutable array types, characters, &amp;str (references to a list of characters in memory), tuples, enumerations, structs, collections, etc.</p>

<p>Functions are declared using the fn keyword like so:</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nd">println!</span><span class="p">(</span><span class="s">"Hello, world"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can specify return values with the -&gt; symbol and if you are returning a value in the last line of the function, there is no need to include the return keyword.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// returns the 32-bit integer 5</span>
<span class="k">fn</span> <span class="nf">my_function</span><span class="p">()</span> <span class="k">-&gt;</span> <span class="nb">u32</span> <span class="p">{</span>
  <span class="mi">5</span>
<span class="p">}</span>
</code></pre></div></div>

<p>I was breezing on through until I hit the concept of ownership. All programs have to manage the way they use a computer‚Äôs memory while running. Because Rust doesn‚Äôt garbage-collect and programmers don‚Äôt have to manually allocate and deallocate memory, memory is managed through a system of ownership.</p>

<p>Here are the rules of ownership in Rust (right from The Book):</p>

<ol>
  <li>Each value in Rust has a variable that‚Äôs called its owner.</li>
  <li>There can only be one owner at a time.</li>
  <li>When the owner goes out of scope, the value will be dropped.</li>
</ol>

<p>Let‚Äôs have an example:</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>                      <span class="c">// s is not valid here, it‚Äôs not yet declared</span>
    <span class="k">let</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"hello"</span><span class="p">;</span>   <span class="c">// s is valid from this point forward</span>

    <span class="c">// do stuff with s</span>
<span class="p">}</span> <span class="c">// this scope is now over, and s is no longer valid</span>
</code></pre></div></div>

<p>Here is the jam that I got into when I was first using Rust.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">String</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span><span class="s">"Hello, world!"</span><span class="p">);</span> <span class="c">// a is the owner</span>
<span class="k">let</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span> <span class="c">// ownership has changed to b. What is a?</span>

<span class="nd">println!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span> <span class="c">// error[E0382]: borrow of moved value: `a`</span>
</code></pre></div></div>

<p>Because there can only be only one owner at a time, I can‚Äôt try to assign the value of a variable to another using the first variable‚Äôs name if it was allocated on the heap, like the String type is in Rust. Now, if the variable‚Äôs type is a primitive (int, double, bool, etc), doing the reassign will simply copy the value and NOT change ownership.</p>

<p>When referencing a variable, you use the &amp; symbol as in C/C++. The references allow the programmer to take the value without taking ownership. There can be as many non-mutable references as one wants to a variable at one time, but only ONE mutable reference.</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">String</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span><span class="s">"Dude, Rust is sick."</span><span class="p">);</span>
<span class="p">{</span>
  <span class="k">let</span> <span class="n">b</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span> <span class="c">// ok</span>
  <span class="k">let</span> <span class="n">c</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">;</span> <span class="c">// ok</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="k">let</span> <span class="n">b</span> <span class="o">=</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">a</span><span class="p">;</span> <span class="c">// mutable reference. ok.</span>
  <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="nn">String</span><span class="p">::</span><span class="nf">from</span><span class="p">(</span><span class="s">"Different!"</span><span class="p">);</span> <span class="c">// change value. ok</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="k">let</span> <span class="n">b</span> <span class="o">=</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">a</span><span class="p">;</span> <span class="c">// ok</span>
  <span class="k">let</span> <span class="n">c</span> <span class="o">=</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">a</span><span class="p">;</span> <span class="c">// ERROR. Only one mut reference at a time!</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Even more difficult for me to understand was rust lifetimes which is how Rust can get around using garbage collection. It is also their solution to the all too well known C++ problem of dangling pointers when a variable is ‚Äúused after free‚Äù. I won‚Äôt even attempt to explain that concept here. You should read this article to find more.</p>

<p>Overall, I would say my experience with Rust was rewarding. I was able to understand its syntax and style guide easily, although some of the concepts were difficult to grasp at first. I don‚Äôt know if this is just me, but even the way the language looks when typed is elegant. It uses functional programming techniques commonly used in JavaScript (filtering, mapping, etc) and its syntax keywords are short and too the point (<code class="highlighter-rouge">fn</code>, <code class="highlighter-rouge">enum</code>, <code class="highlighter-rouge">let</code>, <code class="highlighter-rouge">mut</code>, <code class="highlighter-rouge">i32</code>, <code class="highlighter-rouge">&amp;str</code>, etc.)</p>

<p>Some systems developers are lobbying heavily for Rust to be the next C/C++. I don‚Äôt know whether that will happen anytime soon, but one thing is for sure: it will continue to grow and mature. It is backed by Mozilla and has a ‚Äòcult‚Äô following that want to kill off C++.</p>

<p>So there.</p>

<p>Go look at Rust.</p>

</article>

<hr />

<div class="qna">
  <h2>Questions?</h2>
  <p>
    Have a question about this post, the right way to tell a theater joke üé≠, or
    anything else? Ask away on
    <a href="https://github.com/dannydenenberg/ama" target="_blank"
      >my AMA repo</a
    >
    or shoot me an <a href="/about" target="_blank">email</a>.
  </p>
</div>


<!-- 
<aside class="related">
  <h3>Related posts</h3>
  <ul class="related-posts">
    
    <li>
      <a href="/jwt">
        JSON Web Tokens in Express.js
        <small
          ><time datetime="2020-02-14T00:00:00-06:00">14 Feb 2020</time></small
        >
      </a>
    </li>
    
    <li>
      <a href="/activation-functions-comparison">
        Activation functions comparison
        <small
          ><time datetime="2020-02-12T00:00:00-06:00">12 Feb 2020</time></small
        >
      </a>
    </li>
    
    <li>
      <a href="/complete-neural-nets">
        Complete approach to neural networks
        <small
          ><time datetime="2020-01-02T00:00:00-06:00">02 Jan 2020</time></small
        >
      </a>
    </li>
    
  </ul>
</aside>
 -->

      </main>

      <div class="footer" style="text-align: center">
  <a
    style="text-decoration: none"
    href="https://github.com/dannydenenberg/dannydenenberg.github.io"
    ><3</a
  >
</div>

    </div>

    

    <!-- PUt the anchors on headings -->
    <script>
      anchors.options = {
        placement: "left",
        // visible: "always"
        icon: "¬ß"
      };
      anchors.add("main h2, main h3, main h4, main h5");
    </script>
  </body>
</html>
